#!/bin/bash

# This script generates the OntoNotes Sense Groupings
# supplemental data source.  It assumes the files are
# in a specific directory, pulls a directory listing
# of that directory, and massages the output into
# the appropriate format.  This snippit describes the
# format of the supplemental data source:
#    abandon,http://verbs.colorado.edu/html_groupings/abandon-v.html
#    abate,http://verbs.colorado.edu/html_groupings/abate-v.html
#    abolish,http://verbs.colorado.edu/html_groupings/abolish-v.html
# (where the verb is at the beginning of each line)
# The script places the final file in the same directory
# as this script for you to copy to the 'supplemental'
# directory (file name is 'grouping.s').

GRP_DIR="html_groupings"

ls "/home/verbs/shared/public_html/$GRP_DIR/"*-v.html | \
   sed 's_^\(.*\)-v.html_\1,http://verbs.colorado.edu/html\_groupings/\1-v.html_' > grouping.s
chmod g+w grouping.s
chgrp www grouping.s

echo Script complete. File \'grouping.s\' generated into this directory.
echo It can now be copied to the 'generator/supplemental' directory.
echo The UVI must be regenerated by the UVI Generator afterwards for the
echo changes to be reflected on the public UVI site.
