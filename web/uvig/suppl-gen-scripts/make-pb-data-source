#!/bin/bash

# This script generates the PropBank
# supplemental data source.  It assumes the files are
# in a specific directory, pulls a directory listing
# of that directory, and massages the output into
# the appropriate format.  This snippit describes the
# format of the supplemental data source:
#    abandon,http://verbs.colorado.edu/framesets/abandon-v.html
#    abate,http://verbs.colorado.edu/framesets/abate-v.html
#    abdicate,http://verbs.colorado.edu/framesets/abdicate-v.html
# (where the verb is at the beginning of each line)
# The script places the final file in the same directory
# as this script for you to copy to the 'supplemental'
# directory (file name is 'propbank.s').

PB_DIR="propbank/framesets-english"
cd /usr/local/adm/config/apache/htdocs/verbs/$PB_DIR
ls *-v.html > ~/.uvigtemp
cd - > /dev/null
sed 's_^\(.*\)-v.html_\1,http://verbs.colorado.edu/'"$PB_DIR"'/\1-v.html_' ~/.uvigtemp > propbank.s
rm ~/.uvigtemp
#chmod g+w propbank.s
#chgrp www propbank.s

echo Script complete. File \'propbank.s\' generated into this directory.
echo It can now be copied to the 'generator/supplemental' directory.
echo The UVI must be regenerated by the UVI Generator afterwards for the
echo changes to be reflected on the public UVI site.
